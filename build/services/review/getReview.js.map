{"version":3,"sources":["../../../src/services/review/getReview.ts"],"names":["getReview","id","firestore","collection","doc","get","reviewDoc","exists","Error","data","req","res","params","status","json","send","console","log","Sentry","captureException"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;AAEO,IAAMA,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAECC,oBACrBC,UADqB,CACV,SADU,EAErBC,GAFqB,CAEjBH,EAFiB,EAGrBI,GAHqB,EAFD;;AAAA;AAEjBC,YAAAA,SAFiB;;AAAA,gBAMlBA,SAAS,CAACC,MANQ;AAAA;AAAA;AAAA;;AAAA,kBAOf,IAAIC,KAAJ,CAAU,uBAAV,CAPe;;AAAA;AAAA,+DAUXF,SAAS,CAACG,IAAV,EAVW;AAUOR,cAAAA,EAAE,EAAFA;AAVP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATD,SAAS;AAAA;AAAA;AAAA,GAAf;;;;;;;;;0BAaQ,kBAAOU,GAAP,EAAiBC,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHV,YAAAA,EAFG,GAEoBS,GAAG,CAACE,MAFxB,CAEHX,EAFG;AAAA;AAAA,mBAGQD,SAAS,CAACC,EAAD,CAHjB;;AAAA;AAGLQ,YAAAA,IAHK;AAAA,8CAIJE,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAArB,CAJI;;AAAA;AAAA;AAAA;AAMXE,YAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB,kBAArB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAC,YAAAA,MAAM,CAACC,gBAAP;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { firestore } from \"../../firebase\";\nimport { Review } from \"../../schemas/Review\";\nimport * as Sentry from \"@sentry/node\";\n\nexport const getReview = async (id: string) => {\n  // get job entity\n  const reviewDoc = await firestore\n    .collection(\"reviews\")\n    .doc(id)\n    .get();\n  if (!reviewDoc.exists) {\n    throw new Error(\"Review does not exist\");\n  }\n\n  return { ...reviewDoc.data(), id } as Review;\n};\n\nexport default async (req: any, res: any) => {\n  try {\n    const { id }: { id: string } = req.params;\n    const data = await getReview(id);\n    return res.status(200).json(data);\n  } catch (error) {\n    res.status(500).send(\"Something broke!\");\n    console.log(\"Error: \" + error);\n    Sentry.captureException(error);\n  }\n};\n"],"file":"getReview.js"}