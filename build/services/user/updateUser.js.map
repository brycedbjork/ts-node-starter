{"version":3,"sources":["../../../src/services/user/updateUser.ts"],"names":["updateUser","uid","data","firestore","collection","doc","get","userDoc","exists","Error","update","req","res","body","status","send","console","log","Sentry","captureException"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEO,IAAMA,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,GAAP,EAAoBC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEFC,oBACnBC,UADmB,CACR,OADQ,EAEnBC,GAFmB,CAEfJ,GAFe,EAGnBK,GAHmB,EAFE;;AAAA;AAElBC,YAAAA,OAFkB;;AAAA,gBAMnBA,OAAO,CAACC,MANW;AAAA;AAAA;AAAA;;AAAA,kBAOhB,IAAIC,KAAJ,CAAU,qBAAV,CAPgB;;AAAA;AAAA;AAAA,mBAUlBN,oBACHC,UADG,CACQ,OADR,EAEHC,GAFG,CAECJ,GAFD,EAGHS,MAHG,CAGIR,IAHJ,CAVkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVF,UAAU;AAAA;AAAA;AAAA,GAAhB;;;;;;;;;0BAgBQ,kBAAOW,GAAP,EAAiBC,GAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAE0CD,GAAG,CAACE,IAF9C,EAEHZ,GAFG,aAEHA,GAFG,EAEEC,IAFF,aAEEA,IAFF;AAAA;AAAA,mBAILF,UAAU,CAACC,GAAD,EAAMC,IAAN,CAJL;;AAAA;AAAA,8CAMJU,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,EANI;;AAAA;AAAA;AAAA;AAUXH,YAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kBAArB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAC,YAAAA,MAAM,CAACC,gBAAP;;AAZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { auth, firestore, messaging } from \"../../firebase\";\nimport * as Sentry from \"@sentry/node\";\n\nexport const updateUser = async (uid: string, data: object) => {\n  // get job entity\n  const userDoc = await firestore\n    .collection(\"users\")\n    .doc(uid)\n    .get();\n  if (!userDoc.exists) {\n    throw new Error(\"User does not exist\");\n  }\n\n  await firestore\n    .collection(\"users\")\n    .doc(uid)\n    .update(data);\n};\n\nexport default async (req: any, res: any) => {\n  try {\n    const { uid, data }: { uid: string; data: object } = req.body;\n\n    await updateUser(uid, data);\n\n    return res.status(200).send();\n\n    // success\n  } catch (error) {\n    res.status(500).send(\"Something broke!\");\n    console.log(\"Error: \" + error);\n    Sentry.captureException(error);\n  }\n};\n"],"file":"updateUser.js"}