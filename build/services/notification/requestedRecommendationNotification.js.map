{"version":3,"sources":["../../../src/services/notification/requestedRecommendationNotification.ts"],"names":["requestId","recomendationRequest","userData","message","firstName","lastName","userPhoneNumber","from","phoneNumber","type","userEmail","email","requestData"],"mappings":";;;;;;;AAOA;;AACA;;;;;;;;AAGA;;;;;;;;0BAIe,iBACbA,SADa,EAEbC,oBAFa,EAGbC,QAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKP,sBAAK;AACTC,cAAAA,OAAO,YAAKD,QAAQ,CAACE,SAAd,cACLF,QAAQ,CAACG,QADJ,gFAE+DL,SAF/D,CADE;AAITM,cAAAA,eAAe,EAAEL,oBAAoB,CAACM,IAArB,CAA0BC;AAJlC,aAAL,CALO;;AAAA;AAAA;AAAA,mBAYP,uBAAM;AACVC,cAAAA,IAAI,EAAE,uBADI;AAEVC,cAAAA,SAAS,EAAET,oBAAoB,CAACM,IAArB,CAA0BI,KAF3B;AAGVC,cAAAA,WAAW,EAAEX,oBAHH;AAIVC,cAAAA,QAAQ,EAARA,QAJU;AAKVF,cAAAA,SAAS,EAATA;AALU,aAAN,CAZO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { messaging, firestore } from \"../../firebase\";\nimport admin from \"firebase-admin\";\nimport { RecommendationRequest } from \"../../schemas/Recommend\";\nimport { getJob } from \"../job/getJob\";\nimport { getUser } from \"../user/getUser\";\nimport { getChat } from \"../chat/getChat\";\nimport push from \"./helpers/push\";\nimport text from \"./helpers/text\";\nimport email from \"./helpers/email\";\nimport { Student, Hirer } from \"../../schemas/User\";\n\n/*\nSends notification to person whose recommendation was requested\n*/\n\nexport default async (\n  requestId: string,\n  recomendationRequest: RecommendationRequest,\n  userData: Student\n) => {\n  await text({\n    message: `${userData.firstName} ${\n      userData.lastName\n    } asked that you recommend them on Hire\\nhireastudent.org/recommend/${requestId}`,\n    userPhoneNumber: recomendationRequest.from.phoneNumber\n  });\n\n  await email({\n    type: \"recommendationRequest\",\n    userEmail: recomendationRequest.from.email,\n    requestData: recomendationRequest,\n    userData,\n    requestId\n  });\n};\n"],"file":"requestedRecommendationNotification.js"}