{"version":3,"sources":["../../../src/services/notification/referralNotification.ts"],"names":["DOWNLOAD_LINK","referral","type","message","user","firstName","phoneNumber","userPhoneNumber","email","userEmail","link"],"mappings":";;;;;;;AACA;;AACA;;;;;;;;AAEA,IAAMA,aAAa,GAAG,yCAAtB;;;;;;;0BAEe,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAELA,QAAQ,CAACC,IAFJ;AAAA,4CAGN,QAHM,uBAqBN,KArBM;AAAA;;AAAA;AAITC,YAAAA,OAAO,aAAMF,QAAQ,CAACG,IAAT,CAAcC,SAApB,yBAAP;;AAJS,iBAKLJ,QAAQ,CAACK,WALJ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMD,sBAAK;AACTC,cAAAA,eAAe,EAAEN,QAAQ,CAACK,WADjB;AAETH,cAAAA,OAAO,YAAKA,OAAL,eAAiBH,aAAjB;AAFE,aAAL,CANC;;AAAA;AAAA,iBAWLC,QAAQ,CAACO,KAXJ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAYD,uBAAM;AACVC,cAAAA,SAAS,EAAER,QAAQ,CAACO,KADV;AAEVN,cAAAA,IAAI,EAAE,UAFI;AAGVQ,cAAAA,IAAI,EAAEV,aAHI;AAIVC,cAAAA,QAAQ,EAARA;AAJU,aAAN,CAZC;;AAAA;AAAA;;AAAA;AAsBTE,YAAAA,OAAO,0BAAP;AAtBS;AAAA,mBAuBH,sBAAK;AACTI,cAAAA,eAAe,EAAEN,QAAQ,CAACK,WADjB;AAETH,cAAAA,OAAO,YAAKA,OAAL,eAAiBH,aAAjB;AAFE,aAAL,CAvBG;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { WebReferral, DirectReferral } from \"../../schemas/Refer\";\nimport text from \"./helpers/text\";\nimport email from \"./helpers/email\";\n\nconst DOWNLOAD_LINK = \"https://apps.apple.com/app/id1403752736\";\n\nexport default async (referral: WebReferral | DirectReferral) => {\n  let message: string;\n  switch (referral.type) {\n    case \"direct\":\n      message = `${referral.user.firstName} invited you to Hire`;\n      if (referral.phoneNumber) {\n        await text({\n          userPhoneNumber: referral.phoneNumber,\n          message: `${message}\\n${DOWNLOAD_LINK}`\n        });\n      }\n      if (referral.email) {\n        await email({\n          userEmail: referral.email,\n          type: \"referral\",\n          link: DOWNLOAD_LINK,\n          referral\n        });\n      }\n      break;\n\n    case \"web\":\n      message = `Download the Hire app`;\n      await text({\n        userPhoneNumber: referral.phoneNumber,\n        message: `${message}\\n${DOWNLOAD_LINK}`\n      });\n      break;\n  }\n};\n"],"file":"referralNotification.js"}