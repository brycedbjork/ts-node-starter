{"version":3,"sources":["../../../src/services/chat/getChat.ts"],"names":["getChat","id","firestore","collection","doc","get","chatDoc","exists","Error","data","req","res","params","status","json","send","console","log","Sentry","captureException"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;AAEO,IAAMA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAECC,oBACnBC,UADmB,CACR,OADQ,EAEnBC,GAFmB,CAEfH,EAFe,EAGnBI,GAHmB,EAFD;;AAAA;AAEfC,YAAAA,OAFe;;AAAA,gBAMhBA,OAAO,CAACC,MANQ;AAAA;AAAA;AAAA;;AAAA,kBAOb,IAAIC,KAAJ,CAAU,qBAAV,CAPa;;AAAA;AAAA,+DAWhBF,OAAO,CAACG,IAAR,EAXgB;AAYnBR,cAAAA,EAAE,EAAFA;AAZmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPD,OAAO;AAAA;AAAA;AAAA,GAAb;;;;;;;;;0BAgBQ,kBAAOU,GAAP,EAAiBC,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHV,YAAAA,EAFG,GAEoBS,GAAG,CAACE,MAFxB,CAEHX,EAFG;AAAA;AAAA,mBAGQD,OAAO,CAACC,EAAD,CAHf;;AAAA;AAGLQ,YAAAA,IAHK;AAAA,8CAIJE,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAArB,CAJI;;AAAA;AAAA;AAAA;AAMXE,YAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB,kBAArB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAC,YAAAA,MAAM,CAACC,gBAAP;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { firestore } from \"../../firebase\";\nimport { Chat } from \"../../schemas/Chat\";\nimport * as Sentry from \"@sentry/node\";\n\nexport const getChat = async (id: string) => {\n  // get job entity\n  const chatDoc = await firestore\n    .collection(\"chats\")\n    .doc(id)\n    .get();\n  if (!chatDoc.exists) {\n    throw new Error(\"Chat does not exist\");\n  }\n\n  return {\n    ...chatDoc.data(),\n    id\n  } as Chat;\n};\n\nexport default async (req: any, res: any) => {\n  try {\n    const { id }: { id: string } = req.params;\n    const data = await getChat(id);\n    return res.status(200).json(data);\n  } catch (error) {\n    res.status(500).send(\"Something broke!\");\n    console.log(\"Error: \" + error);\n    Sentry.captureException(error);\n  }\n};\n"],"file":"getChat.js"}