{"version":3,"sources":["../../../src/services/job/getJob.ts"],"names":["getJob","id","firestore","collection","doc","get","jobDoc","exists","Error","data","req","res","params","status","json","send","console","log","Sentry","captureException"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;AAEO,IAAMA,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAECC,oBAClBC,UADkB,CACP,MADO,EAElBC,GAFkB,CAEdH,EAFc,EAGlBI,GAHkB,EAFD;;AAAA;AAEdC,YAAAA,MAFc;;AAAA,gBAMfA,MAAM,CAACC,MANQ;AAAA;AAAA;AAAA;;AAAA,kBAOZ,IAAIC,KAAJ,CAAU,oBAAV,CAPY;;AAAA;AAAA,+DAURF,MAAM,CAACG,IAAP,EAVQ;AAUOR,cAAAA,EAAE,EAAFA;AAVP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAND,MAAM;AAAA;AAAA;AAAA,GAAZ;;;;;;;;;0BAaQ,kBAAOU,GAAP,EAAiBC,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHV,YAAAA,EAFG,GAEoBS,GAAG,CAACE,MAFxB,CAEHX,EAFG;AAAA;AAAA,mBAGQD,MAAM,CAACC,EAAD,CAHd;;AAAA;AAGLQ,YAAAA,IAHK;AAAA,8CAIJE,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAArB,CAJI;;AAAA;AAAA;AAAA;AAMXE,YAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB,kBAArB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAC,YAAAA,MAAM,CAACC,gBAAP;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { firestore } from \"../../firebase\";\nimport { Job } from \"../../schemas/Job\";\nimport * as Sentry from \"@sentry/node\";\n\nexport const getJob = async (id: string) => {\n  // get job entity\n  const jobDoc = await firestore\n    .collection(\"jobs\")\n    .doc(id)\n    .get();\n  if (!jobDoc.exists) {\n    throw new Error(\"Job does not exist\");\n  }\n\n  return { ...jobDoc.data(), id } as Job;\n};\n\nexport default async (req: any, res: any) => {\n  try {\n    const { id }: { id: string } = req.params;\n    const data = await getJob(id);\n    return res.status(200).json(data);\n  } catch (error) {\n    res.status(500).send(\"Something broke!\");\n    console.log(\"Error: \" + error);\n    Sentry.captureException(error);\n  }\n};\n"],"file":"getJob.js"}